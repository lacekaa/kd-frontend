<div class="typing-area-container">
  <div class="instructions" *ngIf="!promptLocked">
    <div class="instructions1-headline">
      <strong>Instructions 1:</strong>
    </div>
    <br/>
    TEXT TO PROMPT: Type a text prompt in the box below that you consider might lead to the text output shown here. Once
    you finish your prompt, hit "Set Prompt". After that, you will not be able to adjust your prompt.
  </div>
  <div class="text1" *ngIf="!secondAttempt">
    In a quiet jungle dojo, a pink elephant named Tofu practiced karate with thunderous grace, his raccoon best friend,
    Zippy, always cheering from the sidelines. When a gang of mischievous monkeys stole the dojo’s sacred scroll, Tofu
    and Zippy embarked on a whirlwind adventure through bamboo forests and river rapids to retrieve it. Using a flawless
    spinning tusk kick and Zippy’s clever distraction tactics, they defeated the monkeys and restored honor to their
    dojo. From that day on, the jungle whispered tales of the pink karate elephant and his fearless raccoon sidekick.
  </div>
  <div class="text2" *ngIf="secondAttempt">
    In a sunbeam throne of golden light,
    Reigns Carrot, queen of feline might.
    Her fur a blaze of orange flame,
    The nap-born monarch—dream her name.

    No perch too high, no place too loud,
    She sleeps on fence posts, soft or proud.
    A rustling world may spin and race,
    But Carrot slips through time and space.

    With half-closed eyes and gentle purr,
    She leaves the waking world a blur.
    For in her dreams she rules unseen—
    A velvet sky, a starlit queen.

    Some say her soul was stitched in sleep,
    Where mountains drift and oceans creep.
    And when she stirs, just for a breath,
    She brings back tales from realms past death.

    So hush, and watch her whiskers twitch—
    She’s leaping castles in a twitch.
    For Carrot’s truth lies not in day,
    But where the dreaming cats all play.
  </div>
  <div class="instructions2" *ngIf="promptLocked">
    <div class="instructions2-headline">
      <strong>Instructions 2:</strong>
    </div>
    <br/>
    Now highlight at least one part of your prompt you consider important and hit "Important".
    If you consider some parts of your prompt unimportant, you can highlight them and hit "Unimportant".
    Once done, hit "Submit".

    Note: You can only highlight parts inside the prompt box above, the visualization box below is read-only.
  </div>

  <div class="input-section">
    <textarea
      #typingArea
      class="text-input"
      [disabled]="promptLocked"
      (keydown)="onKeyDown($event)"
      (keyup)="onKeyUp($event)"
      placeholder="Type your prompt here..."
    ></textarea>
    <div class="button-group">
      <button class="set-prompt-button" *ngIf="!promptLocked" (click)="lockPrompt()">Set Prompt</button>
      <button class="highlight-button" *ngIf="promptLocked" (click)="onTextSelection()">Important</button>
      <button class="lowlight-button" *ngIf="promptLocked" (click)="onTextSelectionLow()">Unimportant</button>
      <button class="submit-button" *ngIf="highlightSet" (click)="finalizeSubmission()">Submit</button>
    </div>
  </div>

  <div *ngIf="promptLocked" class="visualization-section">
    <h3>You can only highlight parts inside the prompt box above, this visualization box
      is read-only.</h3>
    <div class="highlight-display" [innerHTML]="getFormattedPrompt()"></div>
  </div>

  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
</div>
